<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>aj demo simple</title>

    <style>
        *{margin:0; padding: 0}
        html, body{}
        #page{width:860px; margin:0 auto}
        .container{background-color: beige; padding: 4px}
    </style>

    <script src="../src/script.aj_0.1.0.js"></script>
</head>
<body>

<div id="page">

    <div class="container"></div>

    <form id="simple_form" action="server.php" method="post">
        <input name="upload_file" type="file">
        <input type="submit" value="Send">
    </form>
    

</div>




<script>


    var container = document.querySelector('.container'),
        form = document.getElementById('simple_form');

    form.onsubmit = function(event){
        event.preventDefault();
        var file = document.querySelector('input[name=upload_file]');
        console.log(file);
        AjUpload('upload.php', file, onProgress, onSuccess, onError);
    };

    function onProgress(xhr, event){
        console.log("onProgress", xhr);
        console.log("onProgress", event);
    }
    function onSuccess(status, response){
        console.log("onSuccess", status);
        console.log("onSuccess", response);
    }
    function onError(status, xhr, event){
        console.log("onError", status);
        console.log("onError", xhr);
        console.log("onError", event);
    }




</script>
</body>
</html>